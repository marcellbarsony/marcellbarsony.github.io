<!DOCTYPE html>
<html lang="en">

<head>
    <title>I hack things sometimes</title>
    
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
    <meta name="robots" content="noodp"/>

    <link rel="stylesheet" href="https://marcellbarsony.github.io/style.css">

    <link rel="stylesheet" href="https://marcellbarsony.github.io/color/blue.css">
    <link rel="stylesheet" href="https://marcellbarsony.github.io/font-hack-subset.css">

    <meta name="description" content="">

    <meta property="og:description" content="">
    <meta property="og:title" content="I hack things sometimes">
    <meta property="og:type" content="article">
    <meta property="og:url" content="https://marcellbarsony.github.io/tryhackme-basic-pentesting/">

    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:description" content="">
    <meta name="twitter:title" content="I hack things sometimes">
    <meta property="twitter:domain" content="marcellbarsony.github.io&#x2F;">
    <meta property="twitter:url" content="https://marcellbarsony.github.io/tryhackme-basic-pentesting/">

    </head>

<body class="">
<div class="container">
    <!-- HEADER -->
    
    <header class="header">
        <!-- LOGO -->
        <!-- <div class="header__inner"> -->
        <!--     <div class="header__logo"> -->
        <!-- -->
        <!--              -->
        <!--         -->
        <!--         <a href="https://marcellbarsony.github.io/" style="text-decoration: none;"> -->
        <!--             <div class="logo"> -->
        <!--                -->
        <!-- -->
        <!--                     | | | | | | | | | | -->
        <!--                 -->
        <!--                  -->
        <!--             </div> -->
        <!--         </a> -->
        <!--     </div> -->
        <!-- </div> -->

        
        
                <nav class="menu">
            <ul class="menu__inner">
                <li class="active"><a href="https://marcellbarsony.github.io/">posts</a></li>
            
                <li><a href="https://marcellbarsony.github.io//tags">tags</a></li>
            
                <li><a href="https://marcellbarsony.github.io//archive">archive</a></li>
            
                <li><a href="https://marcellbarsony.github.io//whoami">whoami</a></li>
            </ul>
        </nav>
    
    
        
    </header>
    

    <div class="content">
        
    <div class="post">
        
    <h1 class="post-title"><a href="https://marcellbarsony.github.io/tryhackme-basic-pentesting/">TryHackMe - Basic Pentesting</a></h1>
    <div class="post-meta-inline">
        
    <span class="post-date">
            2025-07-10
        </span>

    </div>

    
        <span class="post-tags-inline">
                ::
                <a class="post-tag" href="https://marcellbarsony.github.io/tags/tryhackme/">tryhackme</a>&nbsp;::
            
                <a class="post-tag" href="https://marcellbarsony.github.io/tags/authentication/">authentication</a>&nbsp;::
            
                <a class="post-tag" href="https://marcellbarsony.github.io/tags/smb/">smb</a>&nbsp;::
            
                <a class="post-tag" href="https://marcellbarsony.github.io/tags/hydra/">hydra</a>&nbsp;::
            
        </span>
    

        <div class="post-content">
            <p><img src="/pictures/articles/thm/basic-pentesting/00-cover.png" alt="TODO" /></p>
<p><strong>Basic Pentesting</strong> is an introductory machine that walks through common
enumeration and exploitation techniques. This lab demonstrates how exposed
services, weak passwords, mismanaged credentials, and leaving sensitive files
accessible can be leveraged go gain access to the machine.</p>
<span id="continue-reading"></span><h1 id="enumeration">Enumeration</h1>
<!-- Enumeration {{{-->
<p>The nmap scan discovered the following open ports on the target machine.</p>
<ul>
<li>22 - OpenSSH</li>
<li>80 - Apache HTTP Server</li>
<li>139 - SMB (Samba)</li>
<li>445 - SMB (Samba)</li>
</ul>
<p><img src="/pictures/articles/thm/basic-pentesting/01-nmap.png" alt="a" /></p>
<p>Gobuster found a directory called <code>/development</code> that should be investigated
further.</p>
<p><img src="/pictures/articles/thm/basic-pentesting/02-gobuster.png" alt="a" /></p>
<p>The directory contains two files: <code>dev.txt</code> and <code>j.txt</code>.</p>
<p><img src="/pictures/articles/thm/basic-pentesting/03-development.png" alt="a" /></p>
<p><code>dev.txt</code> indicates that Apache Struts 2.5.12 is running on the server,
and that SMB is also configured.</p>
<p><img src="/pictures/articles/thm/basic-pentesting/04-dev.png" alt="a" /></p>
<p><code>j.txt</code> implies that <code>J</code> is not following strong password guidelines.</p>
<p><img src="/pictures/articles/thm/basic-pentesting/05-j.png" alt="a" /></p>
<p>Since the server is running Samba, it is possible to connect to its file share
as an anonymous user.</p>
<p>The share contains only a single file named <code>staff.txt</code>, which can be retrieved
to examine its contents.</p>
<p><img src="/pictures/articles/thm/basic-pentesting/06-smbclient.png" alt="a" /></p>
<p>The file discloses two possible usernames: <code>Jan</code> and <code>Kay</code>.</p>
<p><img src="/pictures/articles/thm/basic-pentesting/07-staff.png" alt="a" /></p>
<!-- }}} -->
<h1 id="exploitation">Exploitation</h1>
<!-- Exploitation {{{-->
<p>With the obtained usernames it is now possible to brute force their SSH login
password.</p>
<p>Hydra has found a password (<code>armando</code>) for the user <code>Jan</code>.</p>
<p><img src="/pictures/articles/thm/basic-pentesting/08-hydra.png" alt="a" /></p>
<p>It is indeed possible to log in with the acquired credentials.</p>
<p><img src="/pictures/articles/thm/basic-pentesting/09-shh-jan.png" alt="a" /></p>
<p>After investigating the other user's (<code>Kay</code>) home directory,
it contains a RSA key pair that could be used to authenticate to the target
machine as the user <code>Kay</code>.</p>
<p><img src="/pictures/articles/thm/basic-pentesting/10-id_rsa.png" alt="a" /></p>
<p>Unfortunately, the authentication requires a password. To overcome this,
the RSA key needs to be converted into a format that John the Ripper can crack.</p>
<p><img src="/pictures/articles/thm/basic-pentesting/11-rsa.png" alt="a" /></p>
<p>With the cracked password it is now possible to log in as <code>Kay</code>.</p>
<p><img src="/pictures/articles/thm/basic-pentesting/12-ssh-rsa.png" alt="a" /></p>
<p>The final flag is located in the user's home directory.</p>
<p><img src="/pictures/articles/thm/basic-pentesting/13-flag.png" alt="a" /></p>
<!-- }}} -->
<h1 id="mitigation">Mitigation</h1>
<!-- Mitigation {{{-->
<ol>
<li>
<p>Password policy</p>
<ul>
<li>Follow strong password policy guidelines and use strong and unique
passwords</li>
</ul>
</li>
<li>
<p>SMB access</p>
<ul>
<li>Restrict SMB access to authenticated users only</li>
</ul>
</li>
<li>
<p>Brute force attempts</p>
<ul>
<li>Monitor brute force attempts and apply rate limits using tools like
fail2ban</li>
</ul>
</li>
<li>
<p>Update software</p>
<ul>
<li>Keep software (such as Apache Struts) up to date</li>
</ul>
</li>
<li>
<p>SSH authentication</p>
<ul>
<li>Disable SSH password authentication and use a key-based authentication
instead</li>
</ul>
</li>
</ol>
<!-- }}} -->

        </div>

        
        <div class="pagination">
            <div class="pagination__title">
                <hr />
            </div>
            <div class="pagination__buttons">
                    <span class="button previous">
                        <a href="https://marcellbarsony.github.io/tryhackme-dreaming/">
                            <span class="button__icon">â€¹</span>&nbsp;
                            <span class="button__text">TryHackMe - Dreaming</span>
                        </a>
                    </span>
                
                </div>
        </div>
    
    </div>

    </div>

    <!-- FOOTER -->
    <!--  -->
    <!-- <footer class="footer"> -->
    <!--     <div class="footer__inner"> -->
    <!-- -->
    <!--             <div class="copyright copyright--user">My custom&nbsp;<b>copyright</b></div> -->
    <!--         -->
    <!--     </div> -->
    <!-- </footer> -->
    <!--  -->

</div>
</body>

</html>
